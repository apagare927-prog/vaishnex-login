<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Vaishnex Login</title>

<link rel="stylesheet" href="css/style.css">

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css"/>

</head>

<body>

<div class="container">

<div class="logo">
<div class="logo-v">V</div>
</div>

<h1>Vaishnex</h1>
<p class="subtitle">Welcome to Vaishnex</p>


<!-- TOGGLE -->
<div class="tabs">
<button class="tab active" onclick="showPhone()">Phone</button>
<button class="tab" onclick="showEmail()">Email</button>
</div>


<form id="loginForm">

<!-- PHONE LOGIN -->
<div id="phoneBox">

<input id="phone" type="tel" placeholder="Enter mobile number">

</div>


<!-- EMAIL LOGIN -->
<div id="emailBox" style="display:none;">

<input type="email" id="email" placeholder="Enter email">

<input type="password" id="password" placeholder="Enter password">

</div>

<button type="submit">Continue</button>

</form>


<p class="bottom-text">
Don't have an account?
<a href="signup.html">Sign up</a>
</p>

</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

<script>

// COUNTRY SELECTOR
const phoneInput = window.intlTelInput(
document.querySelector("#phone"),
{
initialCountry:"auto",
geoIpLookup:function(callback){
fetch("https://ipapi.co/json")
.then(res=>res.json())
.then(data=>callback(data.country_code))
.catch(()=>callback("us"));
},
separateDialCode:true
}
);


// TOGGLE
function showPhone(){
document.getElementById("phoneBox").style.display="block";
document.getElementById("emailBox").style.display="none";

document.querySelectorAll(".tab")[0].classList.add("active");
document.querySelectorAll(".tab")[1].classList.remove("active");
}

function showEmail(){
document.getElementById("phoneBox").style.display="none";
document.getElementById("emailBox").style.display="block";

document.querySelectorAll(".tab")[1].classList.add("active");
document.querySelectorAll(".tab")[0].classList.remove("active");
}



// VALIDATION
document.getElementById("loginForm")
.addEventListener("submit",function(e){

e.preventDefault();

let phone = document.getElementById("phone");
let email = document.getElementById("email");
let password = document.getElementById("password");

let emailVisible =
document.getElementById("emailBox").style.display==="block";


// RESET
[phone,email,password].forEach(field=>{
if(field) field.style.border="none";
});


let valid = true;


// PHONE LOGIN
if(!emailVisible){

if(!phoneInput.isValidNumber()){
phone.style.border="2px solid red";
valid=false;
}

}


// EMAIL LOGIN
else{

if(email.value===""){
email.style.border="2px solid red";
valid=false;
}

if(password.value.length < 6){
password.style.border="2px solid red";
valid=false;
}

}


if(valid){

alert("Login Success ðŸš€");

// Later â†’ connect backend

}

});

</script>

</body>
</html>
